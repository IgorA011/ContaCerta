ğŸš€ Passo a Passo Completo para Usar o Swagger
ğŸ“‹ PrÃ©-requisitos
AplicaÃ§Ã£o rodando em http://localhost:8080

Banco de dados MySQL configurado

UsuÃ¡rios padrÃ£o criados

ğŸ”‘ PASSO 1: ACESSAR O SWAGGER
URL: http://localhost:8080/swagger-ui/index.html

VocÃª verÃ¡ esta interface:

text
ğŸ“š Swagger UI
â”œâ”€â”€ ğŸ” auth-controller
â”œâ”€â”€ ğŸ‘¥ cliente-controller
â”œâ”€â”€ ğŸ’° movimentacao-controller
â”œâ”€â”€ ğŸ“¦ produto-controller
â””â”€â”€ ğŸ§ª test-controller

ğŸ” PASSO 2: OBTER TOKEN DE ACESSO
2.1 Fazer Login
Expanda o endpoint: POST /api/auth/login

Clique no botÃ£o "Try it out"

Cole este JSON no campo "Request body":

Para Administrador:

json
{
  "email": "admin@contacerta.com",
  "senha": "admin123"
}
Para Atendente:

json
{
  "email": "atendente@contacerta.com",
  "senha": "atendente123"
}
Clique em "Execute"

2.2 Copiar o Token
Na resposta, vocÃª verÃ¡:

json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "nome": "Administrador",
  "tipo": "ADMIN",
  "email": "admin@contacerta.com"
}

ğŸ“ COPIE o token completo (desde eyJ... atÃ© o final)

ğŸ”’ PASSO 3: CONFIGURAR AUTORIZAÃ‡ÃƒO
No topo da pÃ¡gina, clique no botÃ£o "Authorize" ğŸ”’

No campo que aparecer, cole no formato:

text
Bearer seu-token-aqui
Exemplo:

text
Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Clique em "Authorize"

Feche a janela clicando em "Close"

âœ… Agora todas as requisiÃ§Ãµes enviarÃ£o automaticamente o token!

ğŸ§ª PASSO 4: TESTAR ENDPOINTS
ğŸ¯ Para ADMINISTRADORES (admin@contacerta.com)
4.1 Gerenciar Clientes
Listar: GET /api/clientes â†’ Clique "Execute"

Criar: POST /api/clientes â†’ Use este JSON:

json
{
  "nome": "JoÃ£o Silva",
  "email": "joao@email.com",
  "telefone": "(11) 99999-9999"
}
4.2 Gerenciar Produtos
Listar: GET /api/produtos

Criar: POST /api/produtos â†’ Use:

json
{
  "nome": "Notebook Dell",
  "preco": 2500.00,
  "quantidadeEstoque": 10
}
4.3 Fazer MovimentaÃ§Ãµes
Criar Entrada: POST /api/movimentacoes â†’ Use:

json
{
  "tipo": "ENTRADA",
  "valor": 1000.00,
  "descricao": "Venda de produto"
}
Criar SaÃ­da: POST /api/movimentacoes â†’ Use:

json
{
  "tipo": "SAIDA",
  "valor": 500.00,
  "descricao": "Compra de material"
}
4.4 Ver Saldo
Consultar: GET /api/movimentacoes/saldo

ğŸ‘¥ Para ATENDENTES (atendente@contacerta.com)
4.5 Apenas Consultas
Listar Clientes: GET /api/clientes âœ…

Buscar Cliente: GET /api/clientes/{id} âœ…

Listar Produtos: GET /api/produtos âœ…

Ver MovimentaÃ§Ãµes: GET /api/movimentacoes âœ…

âŒ ATENDENTES NÃƒO PODEM: Criar, editar ou excluir registros!

ğŸ” PASSO 5: USAR FILTROS E PESQUISAS
5.1 Pesquisar Clientes
GET /api/clientes/search?nome=joÃ£o â†’ Busca por nome

GET /api/clientes/search?email=joao â†’ Busca por email

GET /api/clientes/email/joao@email.com â†’ Verificar email

5.2 Verificar Saldo
GET /api/movimentacoes/saldo â†’ Mostra saldo atual

ğŸ“Š PASSO 6: TESTAR PERMISSÃ•ES
Como testar se estÃ¡ funcionando:
FaÃ§a login como Atendente

Tente criar um cliente â†’ Deve dar 403 Forbidden

FaÃ§a login como Admin

Tente criar um cliente â†’ Deve funcionar âœ…

ğŸ›  PASSO 7: SOLUÃ‡ÃƒO DE PROBLEMAS
âŒ Erro 401 Unauthorized
Token expirou ou invÃ¡lido

SoluÃ§Ã£o: FaÃ§a login novamente e atualize o token

âŒ Erro 403 Forbidden
UsuÃ¡rio nÃ£o tem permissÃ£o

SoluÃ§Ã£o: Use conta de administrador

âŒ Erro 400 Bad Request
JSON mal formatado ou campos faltando

SoluÃ§Ã£o: Verifique o formato do JSON

âŒ Token nÃ£o estÃ¡ sendo enviado
SoluÃ§Ã£o: Clique em "Authorize" novamente e cole o token

ğŸ’¡ DICAS EXTRAS
ğŸ“± Interface do Swagger:
"Execute" â†’ Envia a requisiÃ§Ã£o

"Clear" â†’ Limpa os campos

"Copy" â†’ Copia o curl da requisiÃ§Ã£o

BotÃ£o ğŸ”’ â†’ Endpoints que exigem autenticaÃ§Ã£o